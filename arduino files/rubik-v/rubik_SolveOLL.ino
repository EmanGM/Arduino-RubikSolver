
const char OLL_00[] PROGMEM =  "RuuRRFRfuurFRf";      
const char OLL_01[] PROGMEM =  "rUULflUULFlUUR";                        
const char OLL_02[] PROGMEM =  "UFURurfUFRUruf";                     
const char OLL_03[] PROGMEM =  "FURurfuFRUruf";                        
const char OLL_04[] PROGMEM =  "uLFRuurUURuurfl";      
const char OLL_05[] PROGMEM =  "uruuFRUruffUUFR";                        
const char OLL_06[] PROGMEM =  "uLflFuuFuRurf";                        
const char OLL_07[] PROGMEM =  "lrfUUllUUllUUllFLR";                  
const char OLL_08[] PROGMEM =  "FRUruRfLFrfl";               
const char OLL_09[] PROGMEM =  "uuFURurURurf";                     
const char OLL_10[] PROGMEM =  "FURuuruRUrf";                    
const char OLL_11[] PROGMEM =  "uuLFlRUruLfl";                
const char OLL_12[] PROGMEM =  "FRUruf";                        
const char OLL_13[] PROGMEM =  "RUrurFRf";
const char OLL_14[] PROGMEM =  "uuLfluLUFul";         
const char OLL_15[] PROGMEM =  "lRUruLrFRf";            
const char OLL_16[] PROGMEM =  "RuurruRuruuFRf";                       
const char OLL_17[] PROGMEM =  "UUruRurUfUFR";
const char OLL_18[] PROGMEM =  "UrfRluLUrFR";            
const char OLL_19[] PROGMEM =  "ufulUllFlulUL";             
const char OLL_20[] PROGMEM =  "UUrurFRfUR";                           
const char OLL_21[] PROGMEM =  "UUrrdRurDFRfUR";                        
const char OLL_22[] PROGMEM =  "UrFRUrufUR";                                      
const char OLL_23[] PROGMEM =  "UlRUruLrFRf";                            
const char OLL_24[] PROGMEM =  "uufLFluuFFrfRf";                      
const char OLL_25[] PROGMEM =  "FRUruRUruf";                           
const char OLL_26[] PROGMEM =  "luuLuuLflF";                              
const char OLL_27[] PROGMEM =  "uuFRUrufUFRUruf";                        
const char OLL_28[] PROGMEM =  "uruRurUURFRUruf";               
const char OLL_29[] PROGMEM =  "UrFRfRUUrufuF";                         
const char OLL_30[] PROGMEM =  "uRUrufUUFURUr";          
const char OLL_31[] PROGMEM =  "FRUruFFluLUF";                  
const char OLL_32[] PROGMEM =  "UUfluLUlULuluLF";                    
const char OLL_33[] PROGMEM =  "uulUULUluLuuLflF";                       
const char OLL_34[] PROGMEM =  "uluLLflFFuf";                       
const char OLL_35[] PROGMEM =  "RUrrFRffUF";                            
const char OLL_36[] PROGMEM =  "uLUlULuulfluLUF";                      
const char OLL_37[] PROGMEM =  "urrUrbRurrURBr";                            
const char OLL_38[] PROGMEM =  "uRUUrrFRfRuur";                          
const char OLL_39[] PROGMEM =  "UFRUruFFluLUF";                      
const char OLL_40[] PROGMEM =  "uuFRUruRurURUrf";        
const char OLL_41[] PROGMEM =  "RUrrFRfUFrfR";                         
const char OLL_42[] PROGMEM =  "UfluLUFUFRUruf";                    
const char OLL_43[] PROGMEM =  "uRuurUUrFRf";                      
const char OLL_44[] PROGMEM =  "uuFURurf";                   
const char OLL_45[] PROGMEM =  "uuLUfulULFl";                          
const char OLL_46[] PROGMEM =  "LUlULululBLb";                         
const char OLL_47[] PROGMEM =  "uuFRUruFFluLUF";                           
const char OLL_48[] PROGMEM =  "fluLUlULuluLF";        
const char OLL_49[] PROGMEM =  "uflULUluLulULF";                 
const char OLL_50[] PROGMEM =  "uuRUrUrFRfRuur";                     
const char OLL_51[] PROGMEM =  "UluLuLflFlUUL";            
const char OLL_52[] PROGMEM =  "fulULF";                       
const char OLL_53[] PROGMEM =  "ruFURurfR";                            
const char OLL_54[] PROGMEM =  "uFrfRURur";                             
const char OLL_55[] PROGMEM =  "uFRUruFFluLUF";  
const char OLL_56[] PROGMEM =  "RUrURurURuur"; 
const char OLL_57[] PROGMEM =  "ruuRRUrrUrrUUr"; 
const char OLL_58[] PROGMEM =  "RulUruL";  
const char OLL_59[] PROGMEM =  "ulURuLUr"; 
const char OLL_60[] PROGMEM =  "ulldLUUlDLuuL"; 
const char OLL_61[] PROGMEM =  "uRURDruRdrr"; 
const char OLL_62[] PROGMEM =  "ulRUruLURur"; 
const char OLL_63[] PROGMEM =  ""; 


const char * const OLL_LUT[64] PROGMEM = {
  OLL_00, OLL_01, OLL_02, OLL_03, OLL_04, OLL_05, OLL_06, OLL_07, OLL_08, OLL_09, OLL_10, OLL_11, OLL_12, OLL_13, OLL_14,
  OLL_15, OLL_16, OLL_17, OLL_18, OLL_19, OLL_20, OLL_21, OLL_22, OLL_23, OLL_24, OLL_25, OLL_26, OLL_27, OLL_28, OLL_29,
  OLL_30, OLL_31, OLL_32, OLL_33, OLL_34, OLL_35, OLL_36, OLL_37, OLL_38, OLL_39, OLL_40, OLL_41, OLL_42, OLL_43, OLL_44,
  OLL_45, OLL_46, OLL_47, OLL_48, OLL_49, OLL_50, OLL_51, OLL_52, OLL_53, OLL_54, OLL_55, OLL_56, OLL_57, OLL_58, OLL_59,
  OLL_60, OLL_61, OLL_62, OLL_63,
};


//const char *OLL_LUT[] ={
//  "RuuRRFRfuurFRf";                        //  0   |----------|
//  "rUULflUULFlUUR";                        //  1   |          |
//  "UFURurfUFRUruf";                        //  2   |    ##    |
//  "UFURurfuFRUruf";                        //  3   |          |
//  "RuurflUULFRuur";                        //  4   |----------|
//  "ruuFRUruffUUFR";                        //  5  
//  "uLflFuuFuRurf";                         //  6  
//  "lrfUUllUUllUUllFLR";                    //  7
//  "FRUruRfLFrfl";                          //  8   |----------|                     
//  "uuFURurURurf";                          //  9   |          |
//  "FURuuruRUrf";                           // 10   | ## ## ## |
//  "uuLFlRUruLfl";                          // 11   |          |
//  "FRUruf";                   // V         // 12   |----------|
//  "RUrurFRf";                              // 13
//  "uuLfluLUFul";                           // 14
//  "lRUruLrFRf";                            // 15
//  "RuurruRuruuFRf";                        // 16   |----------|          //Mudar de alg. Manual nÂº15 e nÂº16
//  "UUruRurUfUFR";                          // 17   |    ##    |
//  "UrfRluLUrFR";                           // 18   |    ##    |
//  "rFRUrfRFuf";                            // 19   |    ##    |
//  "UUrurFRfUR";                            // 20   |----------|
//  "UUrrdRurDFRfUR";                        // 21   
//  "UrFRUrufUR";                            // 22
//  "UlRUruLrFRf";                           // 23
//  "uufLFluuFFrfRf";                        // 24   |----------|              
//  "FRUruRUruf";                            // 25   |    ##    |
//  "luuLuuLflF";                            // 26   | ## ##    |
//  "uuFRUrufUFRUruf";                       // 27   |          |
//  "urURUUrufUFUR";                         // 28   |----------|
//  "UrFRfRUUrufuF";                         // 29
//  "uRUrufUUFURUr";                         // 30
//  "FRUruFFluLUF";                          // 31
//  "UUfluLUlULuluLF";                       // 32   |----------|
//  "uulUULUluLuuLflF";                      // 33   |          |
//  "UUbrrFRfRB";                            // 34   | ## ##    |
//  "RUrrFRffUF";                            // 35   |    ##    |
//  "uLUlULuulfluLUF";                       // 36   |----------|
//  "urrUrbRurrURBr";                        // 37
//  "uRUUrrFRfRuur";                         // 38
//  "UFRUruFFluLUF";                         // 39
//  "fLFlUUffrfRf";                          // 40   |----------|
//  "RUrrFRfUFrfR";                          // 41   |          |
//  "ufluLUFUFRUruf";                        // 42   |    ## ## |
//  "ufLUlUUlUUL";                           // 43   |    ##    |
//  "uuFURurf";                              // 44   |----------|
//  "uuLUfulULFl";                           // 45
//  "LUlULululBLb";                          // 46
//  "uuFRUruFFluLUF";                        // 47
//  "fluLUlULuluLF";                         // 48   |----------|
//  "uflULUluLulULF";                        // 49   |    ##    |
//  "uuRUrUrFRfRuur";                        // 50   |    ## ## |
//  "urufUFuRuruuR";                         // 51   |          |
//  "UUfulULF";                              // 52   |----------|        
//  "ruFURurfR";                             // 53
//  "uFrfRURur";                             // 54
//  "uFRUruFFluLUF";                         // 55
//};


int Solve_OLL() {
  int e = -1;
  int c = -1;
  int r;
  
  for(r = 0; r < 4; r++){
    if((Rubik[RF_RIGHT][6] == RC_YELLOW) && (Rubik[RF_RIGHT][8] == RC_YELLOW) &&   
        (Rubik[RF_LEFT][6] == RC_YELLOW)  && (Rubik[RF_LEFT][8] == RC_YELLOW)){
      c = 0;
      break;
    } else if((Rubik[RF_LEFT][6] == RC_YELLOW)  && (Rubik[RF_LEFT][8] == RC_YELLOW) && 
              (Rubik[RF_FRONT][8] == RC_YELLOW) && (Rubik[RF_BACK][6] == RC_YELLOW)){
      c = 1;
      break;
    } else if((Rubik[RF_UP][0] == RC_YELLOW)    && (Rubik[RF_FRONT][8] == RC_YELLOW) &&  
            (Rubik[RF_RIGHT][8] == RC_YELLOW) && (Rubik[RF_BACK][8] == RC_YELLOW)){
      c = 2;
      break;
    } else if((Rubik[RF_UP][0] == RC_YELLOW)    && (Rubik[RF_RIGHT][6] == RC_YELLOW) &&  
              (Rubik[RF_LEFT][6] == RC_YELLOW)  && (Rubik[RF_BACK][6] == RC_YELLOW)){
      c = 3;
      break;
    } else if((Rubik[RF_UP][2] == RC_YELLOW)   && (Rubik[RF_UP][8] == RC_YELLOW) && 
            (Rubik[RF_LEFT][6] == RC_YELLOW) && (Rubik[RF_LEFT][8] == RC_YELLOW)){
      c = 4;
      break;
    } else if((Rubik[RF_UP][2] == RC_YELLOW)    && (Rubik[RF_UP][8] == RC_YELLOW) && 
              (Rubik[RF_BACK][8] == RC_YELLOW)  && (Rubik[RF_FRONT][6] == RC_YELLOW)){
      c = 5;
      break;
    } else if((Rubik[RF_UP][0] == RC_YELLOW)    && (Rubik[RF_UP][8] == RC_YELLOW) &&   
              (Rubik[RF_FRONT][8] == RC_YELLOW) && (Rubik[RF_LEFT][6] == RC_YELLOW)){
      c = 6;
      break;
    } else if((Rubik[RF_UP][0] == RC_YELLOW) && (Rubik[RF_UP][2] == RC_YELLOW) &&      
              (Rubik[RF_UP][6] == RC_YELLOW) && (Rubik[RF_UP][8] == RC_YELLOW)){
      c = 7;
      break;
    } else {
      rubik.RotateStr("U");
    }
  }

  
  if((Rubik[RF_FRONT][7] == RC_YELLOW) && (Rubik[RF_RIGHT][7] == RC_YELLOW) && 
     (Rubik[RF_BACK][7] == RC_YELLOW)  && (Rubik[RF_LEFT][7] == RC_YELLOW)){
    e = 0;
  } else if((Rubik[RF_UP][3] == RC_YELLOW)     && (Rubik[RF_UP][5] == RC_YELLOW) && 
            (Rubik[RF_FRONT][7] == RC_YELLOW)  && (Rubik[RF_BACK][7] == RC_YELLOW)){
    e = 1;
  } else if((Rubik[RF_UP][1] == RC_YELLOW)    && (Rubik[RF_UP][7] == RC_YELLOW) && 
            (Rubik[RF_RIGHT][7] == RC_YELLOW) && (Rubik[RF_LEFT][7] == RC_YELLOW)){
    e = 2;
  } else if((Rubik[RF_UP][3] == RC_YELLOW)     && (Rubik[RF_UP][7] == RC_YELLOW) && 
            (Rubik[RF_FRONT][7] == RC_YELLOW)  && (Rubik[RF_RIGHT][7] == RC_YELLOW)){
    e = 3;
  } else if((Rubik[RF_UP][3] == RC_YELLOW)     && (Rubik[RF_UP][1] == RC_YELLOW) && 
            (Rubik[RF_RIGHT][7] == RC_YELLOW)  && (Rubik[RF_BACK][7] == RC_YELLOW)){
    e = 4;
  } else if((Rubik[RF_UP][1] == RC_YELLOW)     && (Rubik[RF_UP][5] == RC_YELLOW) && 
            (Rubik[RF_LEFT][7] == RC_YELLOW)  && (Rubik[RF_BACK][7] == RC_YELLOW)){
    e = 5;
  } else if((Rubik[RF_UP][5] == RC_YELLOW)     && (Rubik[RF_UP][7] == RC_YELLOW) && 
            (Rubik[RF_FRONT][7] == RC_YELLOW)  && (Rubik[RF_LEFT][7] == RC_YELLOW)){
    e = 6;
  } else if ((Rubik[RF_UP][1] == RC_YELLOW) && (Rubik[RF_UP][5] == RC_YELLOW) && 
             (Rubik[RF_UP][7] == RC_YELLOW) && (Rubik[RF_UP][3] == RC_YELLOW)) {
    e = 7;         
  }

  
  int i = (e * 8) + c;
//  Serial.println(i);
//  Serial.flush();
  //rubik.RotateStr(OLL_LUT[i]);
  rubik.RotateStr_Progmem(ProgStrArray_Index(OLL_LUT, i));
  return i;
} 
